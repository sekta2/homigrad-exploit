# homigrad-exploit

## A little description
A long-standing exploit that not many people know about.
In general, this is a list of exploits for **homigrad** and may no longer work on Original Homigrad and Old Homigrad, but it will still be a good reference for owners of servers with the Homigrad build.

## Exploits

### hg-rolldrum
- Scroll the drum at any player's weapon and no matter what weapon they have.
```lua
-- Код из скрипта
for _,ply in pairs(player.GetAll()) do
        local wep = ply:GetActiveWeapon()

        if IsValid(wep) then
            net.Start("hg_rolldrum")
                net.WriteEntity(wep)
                net.WriteInt(7,4)
            net.SendToServer()
        end
    end
```

### Unload
- Unload weapons from any player
```lua
-- Код из скрипта
for _,ply in pairs(player.GetAll()) do
        local wep = ply:GetActiveWeapon()

        if IsValid(wep) then
            net.Start("Unload")
                net.WriteEntity(wep)
            net.SendToServer()
        end
    end
```

### radio-set
- Put music on any player(in the script example “on a random player other than you”)
```lua
local plys = player.GetAll()

    for i,ply in pairs(plys) do if ply == LocalPlayer() then plys[i] = nil break end end 

    local ply = table.Random(plys)

    net.Start("radio_set")
        net.WriteEntity(ply)
        net.WriteString("Well, there's, like, a link to mp3s of the song")
        net.WriteBool(true)
    net.SendToServer()
```

### ply_take_item
- Take any weapon(item) from a player if he is in regdoll. (as I remember it works if you are near him, or not, check) (in the script example “take all players their current weapon”).
```lua
for _,ply in pairs(player.GetAll()) do
        local wep = ply:GetActiveWeapon()

        if IsValid(wep) then
            net.Start("ply_take_item")
                net.WriteEntity(ply)
                net.WriteString(wep:GetClass())
            net.SendToServer()
        end
    end
```

## Not an exploit, but..
- Here's a hook for fast melee
```lua
local fastmelee = true

hook.Add( "PlayerBindPress", seed .. "BindPress", function(ply, bind, pressed)
    local wep = ply:GetActiveWeapon()
    local zamena = ply:GetWeapon("weapon_hands")
	if fastmelee and string.find(bind, "+attack") and IsValid(wep) and (wep.HoldType == "melee" or wep.HoldType == "melee2") then
		timer.Simple(0.15,function()
            input.SelectWeapon(zamena)
            timer.Simple(0.001,function()
                input.SelectWeapon(wep)
            end)
        end)
	end
end )
```
